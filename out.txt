 * - If the previous character is a newline remove all current
 * indentation.
 * - If the following two characters show a comment follows, consume
 * the whole line.
 * - Reproduce indentation using the current indentation counter,
 * which increments by 1 when '{' is found and decrements by 1 if '}'
 * is found.
 * Note: the indent counter may be negative, which would show a
 * inbalance towards closed brackets.
 * - Don't produce newlines when both the previous character and the
 * current character is a newline.